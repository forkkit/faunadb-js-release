!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).faunadb=e()}}(function(){return function o(s,a,u){function c(t,e){if(!a[t]){if(!s[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(f)return f(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=a[t]={exports:{}};s[t][0].call(i.exports,function(e){return c(s[t][1][e]||e)},i,i.exports,o,s,a,u)}return a[t].exports}for(var f="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,n){t.exports={Client:e("./src/Client"),Expr:e("./src/Expr"),PageHelper:e("./src/PageHelper"),RequestResult:e("./src/RequestResult"),clientLogger:e("./src/clientLogger"),errors:e("./src/errors"),values:e("./src/values"),query:e("./src/query")}},{"./src/Client":49,"./src/Expr":50,"./src/PageHelper":51,"./src/RequestResult":52,"./src/clientLogger":55,"./src/errors":56,"./src/query":57,"./src/values":58}],2:[function(e,t,n){"use strict";n.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},n.toByteArray=function(e){var t,n,r=l(e),i=r[0],o=r[1],s=new f(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),a=0,u=0<o?i-4:i;for(n=0;n<u;n+=4)t=c[e.charCodeAt(n)]<<18|c[e.charCodeAt(n+1)]<<12|c[e.charCodeAt(n+2)]<<6|c[e.charCodeAt(n+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;2===o&&(t=c[e.charCodeAt(n)]<<2|c[e.charCodeAt(n+1)]>>4,s[a++]=255&t);1===o&&(t=c[e.charCodeAt(n)]<<10|c[e.charCodeAt(n+1)]<<4|c[e.charCodeAt(n+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t);return s},n.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i=[],o=0,s=n-r;o<s;o+=16383)i.push(u(e,o,s<o+16383?s:o+16383));1==r?(t=e[n-1],i.push(a[t>>2]+a[t<<4&63]+"==")):2==r&&(t=(e[n-2]<<8)+e[n-1],i.push(a[t>>10]+a[t>>4&63]+a[t<<2&63]+"="));return i.join("")};for(var a=[],c=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)a[i]=r[i],c[r.charCodeAt(i)]=i;function l(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var r,i,o=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(a[(i=r)>>18&63]+a[i>>12&63]+a[i>>6&63]+a[63&i]);return o.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},{}],3:[function(e,t,n){},{}],4:[function(e,t,n){t.exports=function(e){return btoa(e)}},{}],5:[function(U,e,B){(function(l){"use strict";var r=U("base64-js"),o=U("ieee754"),e="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;B.Buffer=l,B.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},B.INSPECT_MAX_BYTES=50;var n=2147483647;function s(e){if(n<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"!=typeof e)return i(e,t,n);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}function i(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|h(e,t),r=s(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return c(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(k(e,ArrayBuffer)||e&&k(e.buffer,ArrayBuffer))return function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n);return Object.setPrototypeOf(r,l.prototype),r}(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);var i=function(e){if(l.isBuffer(e)){var t=0|f(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||P(e.length)?s(0):c(e);if("Buffer"===e.type&&Array.isArray(e.data))return c(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return a(e),s(e<0?0:0|f(e))}function c(e){for(var t=e.length<0?0:0|f(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e){if(n<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||k(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=2<arguments.length&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return L(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return M(e).length;default:if(i)return r?-1:L(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function d(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),P(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a/=s=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var f=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(a<n+u&&(n=a-u),o=n;0<=o;o--){for(var l=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){l=!1;break}if(l)return o}return-1}function g(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?i<(r=Number(r))&&(r=i):r=i;var o=t.length;o/2<r&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(P(a))return s;e[n+s]=a}return s}function m(e,t,n,r){return N(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function b(e,t,n,r){return N(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function w(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function v(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],f=null,l=239<c?4:223<c?3:191<c?2:1;if(i+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=e[i+1]))&&127<(u=(31&c)<<6|63&o)&&(f=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&2047<(u=(15&c)<<12|(63&o)<<6|63&s)&&(u<55296||57343<u)&&(f=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&65535<(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)&&u<1114112&&(f=u)}null===f?(f=65533,l=1):65535<f&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=l}return function(e){var t=e.length;if(t<=_)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=_));return n}(r)}B.kMaxLength=n,(l.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192,l.from=function(e,t,n){return i(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return a(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},l.allocUnsafe=function(e){return u(e)},l.allocUnsafeSlow=function(e){return u(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(k(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),k(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(n=t=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(k(o,Uint8Array)&&(o=l.from(o)),!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},l.prototype.toLocaleString=l.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?v(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return S(this,t,n);case"utf8":case"utf-8":return v(this,t,n);case"ascii":return x(this,t,n);case"latin1":case"binary":return E(this,t,n);case"base64":return w(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",t=B.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},e&&(l.prototype[e]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,i){if(k(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=t)return 0;if(i<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),u=this.slice(r,i),c=e.slice(t,n),f=0;f<a;++f)if(u[f]!==c[f]){o=u[f],s=c[f];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return d(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return d(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||i<n)&&(n=i),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var o,s,a,u,c,f,l=!1;;)switch(r){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return c=t,f=n,N(L(e,(u=this).length-c),u,c,f);case"ascii":return m(this,e,t,n);case"latin1":case"binary":return m(this,e,t,n);case"base64":return o=this,s=t,a=n,N(M(e),o,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,e,t,n);default:if(l)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),l=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _=4096;function x(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function E(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function S(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=t;o<n;++o)i+=I[e[o]];return i}function R(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function T(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function C(e,t,n,r,i){return t=+t,n>>>=0,i||O(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,i){return t=+t,n>>>=0,i||O(e,0,n,8),o.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||T(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||T(e,t,this.length);for(var r=this[e+--t],i=1;0<t&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||T(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||T(e,t,this.length);for(var r=t,i=1,o=this[e+--r];0<r&&(i*=256);)o+=this[e+--r]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||T(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||T(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return e>>>=0,t||T(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||T(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||T(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||T(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||A(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||A(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);A(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);A(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;0<=--o&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeFloatLE=function(e,t,n){return C(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return C(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n=n||0,r||0===r||(r=this.length),t>=e.length&&(t=e.length),t=t||0,0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var o=i-1;0<=o;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(o=t;o<n;++o)this[o]=e;else{var s=l.isBuffer(e)?e:l.from(e,r),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var t=/[^+/0-9A-Za-z-_]/g;function L(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if(55295<(n=e.charCodeAt(s))&&n<57344){if(!i){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(s+1===r){-1<(t-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function M(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(t,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function N(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function k(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function P(e){return e!=e}var I=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()}).call(this,U("buffer").Buffer)},{"base64-js":2,buffer:5,ieee754:11}],6:[function(e,t,n){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],7:[function(W,n,r){(function(F,H){var e,t;e=this,t=function(){"use strict";function u(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,t=void 0,i=void 0,s=function(e,t){h[r]=e,h[r+1]=t,2===(r+=2)&&(i?i(p):b())};var e="undefined"!=typeof window?window:void 0,o=e||{},a=o.MutationObserver||o.WebKitMutationObserver,c="undefined"==typeof self&&void 0!==F&&"[object process]"==={}.toString.call(F),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function l(){var e=setTimeout;return function(){return e(p,1)}}var h=new Array(1e3);function p(){for(var e=0;e<r;e+=2){(0,h[e])(h[e+1]),h[e]=void 0,h[e+1]=void 0}r=0}var d,y,g,m,b=void 0;function w(e,t){var n=this,r=new this.constructor(x);void 0===r[_]&&I(r);var i=n._state;if(i){var o=arguments[i-1];s(function(){return k(i,r,o,n._result)})}else M(n,r,e,t);return r}function v(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(x);return O(t,e),t}b=c?function(){return F.nextTick(p)}:a?(y=0,g=new a(p),m=document.createTextNode(""),g.observe(m,{characterData:!0}),function(){m.data=y=++y%2}):f?((d=new MessageChannel).port1.onmessage=p,function(){return d.port2.postMessage(0)}):void 0===e&&"function"==typeof W?function(){try{var e=Function("return this")().require("vertx");return void 0!==(t=e.runOnLoop||e.runOnContext)?function(){t(p)}:l()}catch(e){return l()}}():l();var _=Math.random().toString(36).substring(2);function x(){}var E=void 0,S=1,R=2;function T(e,r,i){s(function(t){var n=!1,e=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(i,r,function(e){n||(n=!0,r!==e?O(t,e):j(t,e))},function(e){n||(n=!0,L(t,e))},t._label);!n&&e&&(n=!0,L(t,e))},e)}function A(e,t,n){t.constructor===e.constructor&&n===w&&t.constructor.resolve===v?function(t,e){e._state===S?j(t,e._result):e._state===R?L(t,e._result):M(e,void 0,function(e){return O(t,e)},function(e){return L(t,e)})}(e,t):void 0===n?j(e,t):u(n)?T(e,t,n):j(e,t)}function O(t,e){if(t===e)L(t,new TypeError("You cannot resolve a promise with itself"));else if(function(e){var t=typeof e;return null!==e&&("object"==t||"function"==t)}(e)){var n=void 0;try{n=e.then}catch(e){return void L(t,e)}A(t,e,n)}else j(t,e)}function C(e){e._onerror&&e._onerror(e._result),N(e)}function j(e,t){e._state===E&&(e._result=t,e._state=S,0!==e._subscribers.length&&s(N,e))}function L(e,t){e._state===E&&(e._state=R,e._result=t,s(C,e))}function M(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+S]=n,i[o+R]=r,0===o&&e._state&&s(N,e)}function N(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,s=0;s<t.length;s+=3)r=t[s],i=t[s+n],r?k(n,r,i,o):i(o);e._subscribers.length=0}}function k(e,t,n,r){var i=u(n),o=void 0,s=void 0,a=!0;if(i){try{o=n(r)}catch(e){a=!1,s=e}if(t===o)return void L(t,new TypeError("A promises callback cannot return that same promise."))}else o=r;t._state!==E||(i&&a?O(t,o):!1===a?L(t,s):e===S?j(t,o):e===R&&L(t,o))}var P=0;function I(e){e[_]=P++,e._state=void 0,e._result=void 0,e._subscribers=[]}var U=(B.prototype._enumerate=function(e){for(var t=0;this._state===E&&t<e.length;t++)this._eachEntry(e[t],t)},B.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===v){var i=void 0,o=void 0,s=!1;try{i=t.then}catch(e){s=!0,o=e}if(i===w&&t._state!==E)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===q){var a=new n(x);s?L(a,o):A(a,t,i),this._willSettleAt(a,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},B.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===E&&(this._remaining--,e===R?L(r,n):this._result[t]=n),0===this._remaining&&j(r,this._result)},B.prototype._willSettleAt=function(e,t){var n=this;M(e,void 0,function(e){return n._settledAt(S,t,e)},function(e){return n._settledAt(R,t,e)})},B);function B(e,t){this._instanceConstructor=e,this.promise=new e(x),this.promise[_]||I(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?j(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&j(this.promise,this._result))):L(this.promise,new Error("Array Methods must be provided an Array"))}var q=(D.prototype.catch=function(e){return this.then(null,e)},D.prototype.finally=function(t){var n=this.constructor;return u(t)?this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):this.then(t,t)},D);function D(e){this[_]=P++,this._result=this._state=void 0,this._subscribers=[],x!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof D?function(t,e){try{e(function(e){O(t,e)},function(e){L(t,e)})}catch(e){L(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return q.prototype.then=w,q.all=function(e){return new U(this,e).promise},q.race=function(i){var o=this;return n(i)?new o(function(e,t){for(var n=i.length,r=0;r<n;r++)o.resolve(i[r]).then(e,t)}):new o(function(e,t){return t(new TypeError("You must pass an array to race."))})},q.resolve=v,q.reject=function(e){var t=new this(x);return L(t,e),t},q._setScheduler=function(e){i=e},q._setAsap=function(e){s=e},q._asap=s,q.polyfill=function(){var e=void 0;if(void 0!==H)e=H;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=q},q.Promise=q},"object"==typeof r&&void 0!==n?n.exports=t():e.ES6Promise=t()}).call(this,W("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:15}],8:[function(e,t,n){var u=Object.create||function(e){function t(){}return t.prototype=e,new t},s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n},o=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function r(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=u(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}((t.exports=r).EventEmitter=r).prototype._events=void 0,r.prototype._maxListeners=void 0;var i,a=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),i=0===c.x}catch(e){i=!1}function f(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,o,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]):(o=e._events=u(null),e._eventsCount=0),s){if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),!s.warned&&(i=f(e))&&0<i&&s.length>i){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",a.name,a.message)}}else s=o[t]=n,++e._eventsCount;return e}function h(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=o.call(h,r);return i.listener=n,r.wrapFn=i}function d(e,t,n){var r=e._events;if(!r)return[];var i=r[t];return i?"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length):[]}function y(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}i?Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');a=e}}):r.defaultMaxListeners=a,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return f(this)},r.prototype.emit=function(e,t,n,r){var i,o,s,a,u,c,f="error"===e;if(c=this._events)f=f&&null==c.error;else if(!f)return!1;if(f){if(1<arguments.length&&(i=t),i instanceof Error)throw i;var l=new Error('Unhandled "error" event. ('+i+")");throw l.context=i,l}if(!(o=c[e]))return!1;var h="function"==typeof o;switch(s=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,i=g(e,r),o=0;o<r;++o)i[o].call(n)}(o,h,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=g(e,i),s=0;s<i;++s)o[s].call(n,r)}(o,h,this,t);break;case 3:!function(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,s=g(e,o),a=0;a<o;++a)s[a].call(n,r,i)}(o,h,this,t,n);break;case 4:!function(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var s=e.length,a=g(e,s),u=0;u<s;++u)a[u].call(n,r,i,o)}(o,h,this,t,n,r);break;default:for(a=new Array(s-1),u=1;u<s;u++)a[u-1]=arguments[u];!function(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=g(e,i),s=0;s<i;++s)o[s].apply(n,r)}(o,h,this,a)}return!0},r.prototype.on=r.prototype.addListener=function(e,t){return l(this,e,t,!1)},r.prototype.prependListener=function(e,t){return l(this,e,t,!0)},r.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,p(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,p(this,e,t)),this},r.prototype.removeListener=function(e,t){var n,r,i,o,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=u(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;0<=o;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),r.removeListener&&this.emit("removeListener",e,s||t)}return this},r.prototype.removeAllListeners=function(e){var t,n,r;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=u(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=u(null):delete n[e]),this;if(0===arguments.length){var i,o=s(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=u(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(r=t.length-1;0<=r;r--)this.removeListener(e,t[r]);return this},r.prototype.listeners=function(e){return d(this,e,!0)},r.prototype.rawListeners=function(e){return d(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},r.prototype.listenerCount=y,r.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],9:[function(e,t,n){"use strict";t.exports=function(e){if("function"!=typeof e)throw new Error("Could not parse function signature for injection dependencies: Object is not a function");if(!e.length)return[];var t=/^()\(?([^)=]*)\)? *=>/.exec(e+"")||/^[^(]+([^ \(]*) *\(([^\)]*)\)/.exec(e+"");if(!t)throw new Error("Could not parse function signature for injection dependencies: "+e);var n=t[2].replace(/\/\*[\S\s]*?\*\//g," ").replace(/\/\/.*/g," ");function r(e,t,n){return t+n.split(",").map(function(e){return e&&e.trim()}).filter(Boolean).join("@")}return(n=(n=n.replace(/(\{)([^}]*)\}/g,r)).replace(/(\[)([^}]*)\]/g,r)).split(",").map(function(e){return e&&e.trim()}).map(function(e){return"{"===e[0]?e.substring(1).split("@"):"["===e[0]?{items:e.substring(1).split("@")}:e}).filter(Boolean)}},{}],10:[function(e,t,n){var r=e("http"),i=e("url"),o=t.exports;for(var s in r)r.hasOwnProperty(s)&&(o[s]=r[s]);function a(e){if("string"==typeof e&&(e=i.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=a(e),r.request.call(this,e,t)},o.get=function(e,t){return e=a(e),r.get.call(this,e,t)}},{http:21,url:42}],11:[function(e,t,n){n.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,f=-7,l=n?i-1:0,h=n?-1:1,p=e[t+l];for(l+=h,o=p&(1<<-f)-1,p>>=-f,f+=a;0<f;o=256*o+e[t+l],l+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;0<f;s=256*s+e[t+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),2<=(t+=1<=s+l?h/u:h*Math.pow(2,1-l))*u&&(s++,u/=2),f<=s+l?(a=0,s=f):1<=s+l?(a=(t*u-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));8<=i;e[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;0<c;e[n+p]=255&s,p+=d,s/=256,c-=8);e[n+p-d]|=128*y}},{}],12:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},{}],13:[function(e,t,n){t.exports=window.fetch||(window.fetch=e("unfetch").default||e("unfetch"))},{unfetch:41}],14:[function(e,t,n){"use strict";var u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,i=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),o=1;o<arguments.length;o++){for(var s in n=Object(arguments[o]))c.call(n,s)&&(i[s]=n[s]);if(u){r=u(n);for(var a=0;a<r.length;a++)f.call(n,r[a])&&(i[r[a]]=n[r[a]])}}return i}},{}],15:[function(e,t,n){var r,i,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var c,f=[],l=!1,h=-1;function p(){l&&c&&(l=!1,c.length?f=c.concat(f):h=-1,f.length&&d())}function d(){if(!l){var e=u(p);l=!0;for(var t=f.length;t;){for(c=f,f=[];++h<t;)c&&c[h].run();h=-1,t=f.length}c=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new y(e,t)),1!==f.length||l||u(d)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],16:[function(e,M,N){(function(L){!function(e){var t="object"==typeof N&&N&&!N.nodeType&&N,n="object"==typeof M&&M&&!M.nodeType&&M,r="object"==typeof L&&L;r.global!==r&&r.window!==r&&r.self!==r||(e=r);var i,o,m=2147483647,b=36,w=1,v=26,s=38,a=700,_=72,x=128,E="-",u=/^xn--/,c=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=b-w,S=Math.floor,R=String.fromCharCode;function T(e){throw new RangeError(l[e])}function p(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function d(e,t){var n=e.split("@"),r="";return 1<n.length&&(r=n[0]+"@",e=n[1]),r+p((e=e.replace(f,".")).split("."),t).join(".")}function A(e){for(var t,n,r=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function O(e){return p(e,function(e){var t="";return 65535<e&&(t+=R((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=R(e)}).join("")}function C(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function j(e,t,n){var r=0;for(e=n?S(e/a):e>>1,e+=S(e/t);h*v>>1<e;r+=b)e=S(e/h);return S(r+(h+1)*e/(e+s))}function y(e){var t,n,r,i,o,s,a,u,c,f,l,h=[],p=e.length,d=0,y=x,g=_;for((n=e.lastIndexOf(E))<0&&(n=0),r=0;r<n;++r)128<=e.charCodeAt(r)&&T("not-basic"),h.push(e.charCodeAt(r));for(i=0<n?n+1:0;i<p;){for(o=d,s=1,a=b;p<=i&&T("invalid-input"),l=e.charCodeAt(i++),(b<=(u=l-48<10?l-22:l-65<26?l-65:l-97<26?l-97:b)||u>S((m-d)/s))&&T("overflow"),d+=u*s,!(u<(c=a<=g?w:g+v<=a?v:a-g));a+=b)s>S(m/(f=b-c))&&T("overflow"),s*=f;g=j(d-o,t=h.length+1,0==o),S(d/t)>m-y&&T("overflow"),y+=S(d/t),d%=t,h.splice(d++,0,y)}return O(h)}function g(e){var t,n,r,i,o,s,a,u,c,f,l,h,p,d,y,g=[];for(h=(e=A(e)).length,t=x,o=_,s=n=0;s<h;++s)(l=e[s])<128&&g.push(R(l));for(r=i=g.length,i&&g.push(E);r<h;){for(a=m,s=0;s<h;++s)t<=(l=e[s])&&l<a&&(a=l);for(a-t>S((m-n)/(p=r+1))&&T("overflow"),n+=(a-t)*p,t=a,s=0;s<h;++s)if((l=e[s])<t&&++n>m&&T("overflow"),l==t){for(u=n,c=b;!(u<(f=c<=o?w:o+v<=c?v:c-o));c+=b)y=u-f,d=b-f,g.push(R(C(f+y%d,0))),u=S(y/d);g.push(R(C(u,0))),o=j(n,p,r==i),n=0,++r}++n,++t}return g.join("")}if(i={version:"1.4.1",ucs2:{decode:A,encode:O},decode:y,encode:g,toASCII:function(e){return d(e,function(e){return c.test(e)?"xn--"+g(e):e})},toUnicode:function(e){return d(e,function(e){return u.test(e)?y(e.slice(4).toLowerCase()):e})}},t&&n)if(M.exports==t)n.exports=i;else for(o in i)i.hasOwnProperty(o)&&(t[o]=i[o]);else e.punycode=i}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var a,u,c=e.length;0<s&&s<c&&(c=s);for(var f=0;f<c;++f){var l,h,p,d,y=e[f].replace(o,"%20"),g=y.indexOf(n);h=0<=g?(l=y.substr(0,g),y.substr(g+1)):(l=y,""),p=decodeURIComponent(l),d=decodeURIComponent(h),a=i,u=p,Object.prototype.hasOwnProperty.call(a,u)?m(i[p])?i[p].push(d):i[p]=[i[p],d]:i[p]=d}return i};var m=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],18:[function(e,t,n){"use strict";function o(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}t.exports=function(n,r,i,e){return r=r||"&",i=i||"=",null===n&&(n=void 0),"object"==typeof n?a(u(n),function(e){var t=encodeURIComponent(o(e))+i;return s(n[e])?a(n[e],function(e){return t+encodeURIComponent(o(e))}).join(r):t+encodeURIComponent(o(n[e]))}).join(r):e?encodeURIComponent(o(e))+i+encodeURIComponent(o(n)):""};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var u=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],19:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":17,"./encode":18}],20:[function(e,t,n){var r=e("buffer"),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,n),n.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},{buffer:5}],21:[function(n,e,i){(function(u){var c=n("./lib/request"),e=n("./lib/response"),f=n("xtend"),t=n("builtin-status-codes"),l=n("url"),r=i;r.request=function(e,t){e="string"==typeof e?l.parse(e):f(e);var n=-1===u.location.protocol.search(/^https?:$/)?"http:":"",r=e.protocol||n,i=e.hostname||e.host,o=e.port,s=e.path||"/";i&&-1!==i.indexOf(":")&&(i="["+i+"]"),e.url=(i?r+"//"+i:"")+(o?":"+o:"")+s,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var a=new c(e);return t&&a.on("response",t),a},r.get=function(e,t){var n=r.request(e,t);return n.end(),n},r.ClientRequest=c,r.IncomingMessage=e.IncomingMessage,r.Agent=function(){},r.Agent.defaultMaxSockets=4,r.globalAgent=new r.Agent,r.STATUS_CODES=t,r.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/request":23,"./lib/response":24,"builtin-status-codes":6,url:42,xtend:48}],22:[function(e,t,o){(function(e){var t;function n(){if(void 0!==t)return t;if(e.XMLHttpRequest){t=new e.XMLHttpRequest;try{t.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){t=null}}else t=null;return t}function r(e){var t=n();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function i(e){return"function"==typeof e}o.fetch=i(e.fetch)&&i(e.ReadableStream),o.writableStream=i(e.WritableStream),o.abortController=i(e.AbortController),o.arraybuffer=o.fetch||r("arraybuffer"),o.msstream=!o.fetch&&r("ms-stream"),o.mozchunkedarraybuffer=!o.fetch&&r("moz-chunked-arraybuffer"),o.overrideMimeType=o.fetch||!!n()&&i(n().overrideMimeType),t=null}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],23:[function(a,h,e){(function(u,c,i){var f=a("./capability"),e=a("inherits"),t=a("./response"),o=a("readable-stream"),n=t.IncomingMessage,l=t.readyStates;var r=h.exports=function(t){var e,n=this;o.Writable.call(n),n._opts=t,n._body=[],n._headers={},t.auth&&n.setHeader("Authorization","Basic "+i.from(t.auth).toString("base64")),Object.keys(t.headers).forEach(function(e){n.setHeader(e,t.headers[e])});var r=!0;if("disable-fetch"===t.mode||"requestTimeout"in t&&!f.abortController)e=!(r=!1);else if("prefer-streaming"===t.mode)e=!1;else if("allow-wrong-content-type"===t.mode)e=!f.overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");e=!0}n._mode=function(e,t){return f.fetch&&t?"fetch":f.mozchunkedarraybuffer?"moz-chunked-arraybuffer":f.msstream?"ms-stream":f.arraybuffer&&e?"arraybuffer":"text"}(e,r),n._fetchTimer=null,n.on("finish",function(){n._onFinish()})};e(r,o.Writable),r.prototype.setHeader=function(e,t){var n=e.toLowerCase();-1===s.indexOf(n)&&(this._headers[n]={name:e,value:t})},r.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},r.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},r.prototype._onFinish=function(){var t=this;if(!t._destroyed){var e=t._opts,r=t._headers,n=null;"GET"!==e.method&&"HEAD"!==e.method&&(n=new Blob(t._body,{type:(r["content-type"]||{}).value||""}));var i=[];if(Object.keys(r).forEach(function(e){var t=r[e].name,n=r[e].value;Array.isArray(n)?n.forEach(function(e){i.push([t,e])}):i.push([t,n])}),"fetch"===t._mode){var o=null;if(f.abortController){var s=new AbortController;o=s.signal,t._fetchAbortController=s,"requestTimeout"in e&&0!==e.requestTimeout&&(t._fetchTimer=c.setTimeout(function(){t.emit("requestTimeout"),t._fetchAbortController&&t._fetchAbortController.abort()},e.requestTimeout))}c.fetch(t._opts.url,{method:t._opts.method,headers:i,body:n||void 0,mode:"cors",credentials:e.withCredentials?"include":"same-origin",signal:o}).then(function(e){t._fetchResponse=e,t._connect()},function(e){c.clearTimeout(t._fetchTimer),t._destroyed||t.emit("error",e)})}else{var a=t._xhr=new c.XMLHttpRequest;try{a.open(t._opts.method,t._opts.url,!0)}catch(e){return void u.nextTick(function(){t.emit("error",e)})}"responseType"in a&&(a.responseType=t._mode),"withCredentials"in a&&(a.withCredentials=!!e.withCredentials),"text"===t._mode&&"overrideMimeType"in a&&a.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in e&&(a.timeout=e.requestTimeout,a.ontimeout=function(){t.emit("requestTimeout")}),i.forEach(function(e){a.setRequestHeader(e[0],e[1])}),t._response=null,a.onreadystatechange=function(){switch(a.readyState){case l.LOADING:case l.DONE:t._onXHRProgress()}},"moz-chunked-arraybuffer"===t._mode&&(a.onprogress=function(){t._onXHRProgress()}),a.onerror=function(){t._destroyed||t.emit("error",new Error("XHR error"))};try{a.send(n)}catch(e){return void u.nextTick(function(){t.emit("error",e)})}}}},r.prototype._onXHRProgress=function(){var e=this;!function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}(e._xhr)||e._destroyed||(e._response||e._connect(),e._response._onXHRProgress())},r.prototype._connect=function(){var t=this;t._destroyed||(t._response=new n(t._xhr,t._fetchResponse,t._mode,t._fetchTimer),t._response.on("error",function(e){t.emit("error",e)}),t.emit("response",t._response))},r.prototype._write=function(e,t,n){this._body.push(e),n()},r.prototype.abort=r.prototype.destroy=function(){var e=this;e._destroyed=!0,c.clearTimeout(e._fetchTimer),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort()},r.prototype.end=function(e,t,n){"function"==typeof e&&(n=e,e=void 0),o.Writable.prototype.end.call(this,e,t,n)},r.prototype.flushHeaders=function(){},r.prototype.setTimeout=function(){},r.prototype.setNoDelay=function(){},r.prototype.setSocketKeepAlive=function(){};var s=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a("buffer").Buffer)},{"./capability":22,"./response":24,_process:15,buffer:5,inherits:12,"readable-stream":39}],24:[function(n,e,r){(function(c,f,l){var h=n("./capability"),e=n("inherits"),p=n("readable-stream"),a=r.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},t=r.IncomingMessage=function(e,t,n,r){var i=this;if(p.Readable.call(i),i._mode=n,i.headers={},i.rawHeaders=[],i.trailers={},i.rawTrailers=[],i.on("end",function(){c.nextTick(function(){i.emit("close")})}),"fetch"===n){if(i._fetchResponse=t,i.url=t.url,i.statusCode=t.status,i.statusMessage=t.statusText,t.headers.forEach(function(e,t){i.headers[t.toLowerCase()]=e,i.rawHeaders.push(t,e)}),h.writableStream){var o=new WritableStream({write:function(n){return new Promise(function(e,t){i._destroyed?t():i.push(l.from(n))?e():i._resumeFetch=e})},close:function(){f.clearTimeout(r),i._destroyed||i.push(null)},abort:function(e){i._destroyed||i.emit("error",e)}});try{return void t.body.pipeTo(o).catch(function(e){f.clearTimeout(r),i._destroyed||i.emit("error",e)})}catch(e){}}var s=t.body.getReader();!function t(){s.read().then(function(e){if(!i._destroyed){if(e.done)return f.clearTimeout(r),void i.push(null);i.push(l.from(e.value)),t()}}).catch(function(e){f.clearTimeout(r),i._destroyed||i.emit("error",e)})}()}else{if(i._xhr=e,i._pos=0,i.url=e.responseURL,i.statusCode=e.status,i.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===i.headers[n]&&(i.headers[n]=[]),i.headers[n].push(t[2])):void 0!==i.headers[n]?i.headers[n]+=", "+t[2]:i.headers[n]=t[2],i.rawHeaders.push(t[1],t[2])}}),i._charset="x-user-defined",!h.overrideMimeType){var a=i.rawHeaders["mime-type"];if(a){var u=a.match(/;\s*charset=([^;])(;|$)/);u&&(i._charset=u[1].toLowerCase())}i._charset||(i._charset="utf-8")}}};e(t,p.Readable),t.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},t.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text":if((n=t.responseText).length>e._pos){var r=n.substr(e._pos);if("x-user-defined"===e._charset){for(var i=l.alloc(r.length),o=0;o<r.length;o++)i[o]=255&r.charCodeAt(o);e.push(i)}else e.push(r,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==a.DONE||!t.response)break;n=t.response,e.push(l.from(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==a.LOADING||!n)break;e.push(l.from(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==a.LOADING)break;var s=new f.MSStreamReader;s.onprogress=function(){s.result.byteLength>e._pos&&(e.push(l.from(new Uint8Array(s.result.slice(e._pos)))),e._pos=s.result.byteLength)},s.onload=function(){e.push(null)},s.readAsArrayBuffer(n)}e._xhr.readyState===a.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,n("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},n("buffer").Buffer)},{"./capability":22,_process:15,buffer:5,inherits:12,"readable-stream":39}],25:[function(e,t,n){"use strict";var r={};function i(e,i,t){var n=function(r){function e(e,t,n){return r.call(this,function(e,t,n){return"string"==typeof i?i:i(e,t,n)}(e,t,n))||this}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e}(t=t||Error);n.prototype.name=t.name,n.prototype.code=e,r[e]=n}function s(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(e){return String(e)}),2<n?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(e,t,n){var r,i;if("string"==typeof t&&function(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t}(t,"not ")?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))i="The ".concat(e," ").concat(r," ").concat(s(t,"type"));else{var o=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(o," ").concat(r," ").concat(s(t,"type"))}return i+=". Received type ".concat(typeof n)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r},{}],26:[function(e,t,n){(function(n){"use strict";var r=new Set;t.exports.emitExperimentalWarning=n.emitWarning?function(e){if(!r.has(e)){var t=e+" is an experimental feature. This feature could change at any time";r.add(e),n.emitWarning(t,"ExperimentalWarning")}}:function(){}}).call(this,e("_process"))},{_process:15}],27:[function(f,l,e){(function(e){"use strict";var t=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};l.exports=a;var n=f("./_stream_readable"),r=f("./_stream_writable");f("inherits")(a,n);for(var i=t(r.prototype),o=0;o<i.length;o++){var s=i[o];a.prototype[s]||(a.prototype[s]=r.prototype[s])}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),r.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||e.nextTick(c,this)}function c(e){e.end()}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,f("_process"))},{"./_stream_readable":29,"./_stream_writable":31,_process:15,inherits:12}],28:[function(e,t,n){"use strict";t.exports=i;var r=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e("inherits")(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":30,inherits:12}],29:[function(q,D,e){(function(d,e){"use strict";var r;(D.exports=x).ReadableState=_;function y(e,t){return e.listeners(t).length}q("events").EventEmitter;var i=q("./internal/streams/stream"),a=q("buffer").Buffer,u=e.Uint8Array||function(){};var g,t=q("util");g=t&&t.debuglog?t.debuglog("stream"):function(){};var o,n,s=q("./internal/streams/buffer_list"),c=q("./internal/streams/destroy"),f=q("./internal/streams/state").getHighWaterMark,l=q("../errors").codes,h=l.ERR_INVALID_ARG_TYPE,p=l.ERR_STREAM_PUSH_AFTER_EOF,m=l.ERR_METHOD_NOT_IMPLEMENTED,b=l.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w=q("../experimentalWarning").emitExperimentalWarning;q("inherits")(x,i);var v=["error","close","destroy","pause","resume"];function _(e,t,n){r=r||q("./_stream_duplex"),e=e||{},"boolean"!=typeof n&&(n=t instanceof r),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=f(this,e,"readableHighWaterMark",n),this.buffer=new s,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(o=o||q("string_decoder/").StringDecoder,this.decoder=new o(e.encoding),this.encoding=e.encoding)}function x(e){if(r=r||q("./_stream_duplex"),!(this instanceof x))return new x(e);var t=this instanceof r;this._readableState=new _(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),i.call(this)}function E(e,t,n,r,i){g("readableAddChunk",t);var o,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?A(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,O(e)))}(e,s);else if(i||(o=function(e,t){var n;(function(e){return a.isBuffer(e)||e instanceof u})(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new h("chunk",["string","Buffer","Uint8Array"],t));return n}(s,t)),o)e.emit("error",o);else if(s.objectMode||t&&0<t.length)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),r)s.endEmitted?e.emit("error",new b):S(e,s,t,!0);else if(s.ended)e.emit("error",new p);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?S(e,s,t,!1):C(e,s)):S(e,s,t,!1)}else r||(s.reading=!1,C(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function S(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&A(e)),C(e,t)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),x.prototype.destroy=c.destroy,x.prototype._undestroy=c.undestroy,x.prototype._destroy=function(e,t){t(e)},x.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=a.from(e,t),t=""),n=!0),E(this,e,t,!1,n)},x.prototype.unshift=function(e){return E(this,e,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(e){return o=o||q("string_decoder/").StringDecoder,this._readableState.decoder=new o(e),this._readableState.encoding=this._readableState.decoder.encoding,this};var R=8388608;function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return R<=e?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(g("emitReadable",t.flowing),t.emittedReadable=!0,d.nextTick(O,e))}function O(e){var t=e._readableState;g("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||e.emit("readable"),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,k(e)}function C(e,t){t.readingMore||(t.readingMore=!0,d.nextTick(j,e,t))}function j(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(g("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=0<e.listenerCount("readable"),t.resumeScheduled&&!t.paused?t.flowing=!0:0<e.listenerCount("data")&&e.resume()}function M(e){g("readable nexttick read 0"),e.read(0)}function N(e,t){g("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),k(e),t.flowing&&!t.reading&&e.read(0)}function k(e){var t=e._readableState;for(g("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function I(e){var t=e._readableState;g("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,d.nextTick(U,t,e))}function U(e,t){g("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function B(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}x.prototype.read=function(e){g("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:0<t.length)||t.ended))return g("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?I(this):A(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&I(this),null;var r,i=t.needReadable;return g("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&g("length less than watermark",i=!0),t.ended||t.reading?g("reading or ended",i=!1):i&&(g("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(n,t))),null===(r=0<e?P(e,t):null)?(t.needReadable=!0,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&I(this)),null!==r&&this.emit("data",r),r},x.prototype._read=function(e){this.emit("error",new m("_read()"))},x.prototype.pipe=function(n,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=n;break;case 1:i.pipes=[i.pipes,n];break;default:i.pipes.push(n)}i.pipesCount+=1,g("pipe count=%d opts=%j",i.pipesCount,e);var t=(!e||!1!==e.end)&&n!==d.stdout&&n!==d.stderr?s:p;function o(e,t){g("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,g("cleanup"),n.removeListener("close",l),n.removeListener("finish",h),n.removeListener("drain",a),n.removeListener("error",f),n.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",p),r.removeListener("data",c),u=!0,!i.awaitDrain||n._writableState&&!n._writableState.needDrain||a())}function s(){g("onend"),n.end()}i.endEmitted?d.nextTick(t):r.once("end",t),n.on("unpipe",o);var a=function(t){return function(){var e=t._readableState;g("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&y(t,"data")&&(e.flowing=!0,k(t))}}(r);n.on("drain",a);var u=!1;function c(e){g("ondata");var t=n.write(e);g("dest.write",t),!1===t&&((1===i.pipesCount&&i.pipes===n||1<i.pipesCount&&-1!==B(i.pipes,n))&&!u&&(g("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function f(e){g("onerror",e),p(),n.removeListener("error",f),0===y(n,"error")&&n.emit("error",e)}function l(){n.removeListener("finish",h),p()}function h(){g("onfinish"),n.removeListener("close",l),p()}function p(){g("unpipe"),r.unpipe(n)}return r.on("data",c),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(n,"error",f),n.once("close",l),n.once("finish",h),n.emit("pipe",r),i.flowing||(g("pipe resume"),r.resume()),n},x.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e=e||t.pipes,t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=B(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},x.prototype.addListener=x.prototype.on=function(e,t){var n=i.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=0<this.listenerCount("readable"),!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,g("on readable",r.length,r.reading),r.length?A(this):r.reading||d.nextTick(M,this))),n},x.prototype.removeListener=function(e,t){var n=i.prototype.removeListener.call(this,e,t);return"readable"===e&&d.nextTick(L,this),n},x.prototype.removeAllListeners=function(e){var t=i.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||d.nextTick(L,this),t},x.prototype.resume=function(){var e=this._readableState;return e.flowing||(g("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,d.nextTick(N,e,t))}(this,e)),e.paused=!1,this},x.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},x.prototype.wrap=function(t){var n=this,r=this._readableState,i=!1;for(var e in t.on("end",function(){if(g("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),t.on("data",function(e){g("wrapped data"),r.decoder&&(e=r.decoder.write(e)),r.objectMode&&null==e||(r.objectMode||e&&e.length)&&(n.push(e)||(i=!0,t.pause()))}),t)void 0===this[e]&&"function"==typeof t[e]&&(this[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e));for(var o=0;o<v.length;o++)t.on(v[o],this.emit.bind(this,v[o]));return this._read=function(e){g("wrapped _read",e),i&&(i=!1,t.resume())},this},"function"==typeof Symbol&&(x.prototype[Symbol.asyncIterator]=function(){return w("Readable[Symbol.asyncIterator]"),void 0===n&&(n=q("./internal/streams/async_iterator")),n(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),x._fromList=P,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}})}).call(this,q("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":25,"../experimentalWarning":26,"./_stream_duplex":27,"./internal/streams/async_iterator":32,"./internal/streams/buffer_list":33,"./internal/streams/destroy":34,"./internal/streams/state":37,"./internal/streams/stream":38,_process:15,buffer:5,events:8,inherits:12,"string_decoder/":40,util:3}],30:[function(e,t,n){"use strict";t.exports=c;var r=e("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function c(e){if(!(this instanceof c))return new c(e);u.call(this,e),this._transformState={afterTransform:function(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,(n.writecb=null)!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var n=this;"function"!=typeof this._flush||this._readableState.destroyed?l(this,null,null):this._flush(function(e,t){l(n,e,t)})}function l(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}e("inherits")(c,u),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,n){n(new i("_transform()"))},c.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,function(e){t(e)})}},{"../errors":25,"./_stream_duplex":27,inherits:12}],31:[function(C,j,e){(function(s,e){"use strict";function l(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var i;(j.exports=x).WritableState=_;var t={deprecate:C("util-deprecate")},n=C("./internal/streams/stream"),f=C("buffer").Buffer,a=e.Uint8Array||function(){};var r,o=C("./internal/streams/destroy"),u=C("./internal/streams/state").getHighWaterMark,c=C("../errors").codes,h=c.ERR_INVALID_ARG_TYPE,p=c.ERR_METHOD_NOT_IMPLEMENTED,d=c.ERR_MULTIPLE_CALLBACK,y=c.ERR_STREAM_CANNOT_PIPE,g=c.ERR_STREAM_DESTROYED,m=c.ERR_STREAM_NULL_VALUES,b=c.ERR_STREAM_WRITE_AFTER_END,w=c.ERR_UNKNOWN_ENCODING;function v(){}function _(e,t,n){i=i||C("./_stream_duplex"),e=e||{},"boolean"!=typeof n&&(n=t instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=u(this,e,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var r=(this.destroyed=!1)===e.decodeStrings;this.decodeStrings=!r,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new d;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(s.nextTick(i,r),s.nextTick(O,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),O(e,t))}(e,n,r,t,i);else{var o=T(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||R(e,n),r?s.nextTick(S,e,n,o,i):S(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function x(e){var t=this instanceof(i=i||C("./_stream_duplex"));if(!t&&!r.call(x,this))return new x(e);this._writableState=new _(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),n.call(this)}function E(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function S(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),O(e,t)}function R(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,a=!0;n;)(i[s]=n).isBuf||(a=!1),n=n.next,s+=1;i.allBuffers=a,E(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new l(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,f=n.callback;if(E(e,t,!1,t.objectMode?1:u.length,u,c,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(t,n){t._final(function(e){n.pendingcb--,e&&t.emit("error",e),n.prefinished=!0,t.emit("prefinish"),O(t,n)})}function O(e,t){var n=T(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,s.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}C("inherits")(x,n),_.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(_.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(r=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(e){return!!r.call(this,e)||this===x&&(e&&e._writableState instanceof _)}})):r=function(e){return e instanceof this},x.prototype.pipe=function(){this.emit("error",new y)},x.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&function(e){return f.isBuffer(e)||e instanceof a}(e);return o&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(n=t,t=null),t=o?"buffer":t||r.defaultEncoding,"function"!=typeof n&&(n=v),r.ending?function(e,t){var n=new b;e.emit("error",n),s.nextTick(t,n)}(this,n):(o||function(e,t,n,r){var i;return null===n?i=new m:"string"==typeof n||t.objectMode||(i=new h("chunk",["string","Buffer"],n)),!i||(e.emit("error",i),s.nextTick(r,i),!1)}(this,r,e,n))&&(r.pendingcb++,i=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,n));return t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else E(e,t,!1,a,r,i,o);return u}(this,r,o,e,t,n)),i},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||R(this,e))},x.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(e,t,n){n(new p("_write()"))},x.prototype._writev=null,x.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,t=e=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,O(e,t),n&&(t.finished?s.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),x.prototype.destroy=o.destroy,x.prototype._undestroy=o.undestroy,x.prototype._destroy=function(e,t){t(e)}}).call(this,C("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":25,"./_stream_duplex":27,"./internal/streams/destroy":34,"./internal/streams/state":37,"./internal/streams/stream":38,_process:15,buffer:5,inherits:12,"util-deprecate":44}],32:[function(r,g,e){(function(o){"use strict";var e;function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=r("./end-of-stream"),s=Symbol("lastResolve"),a=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),f=Symbol("lastPromise"),l=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function d(e){var t=e[s];if(null!==t){var n=e[h].read();null!==n&&(e[f]=null,e[s]=null,e[a]=null,t(p(n,!1)))}}var t=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((n(e={get stream(){return this[h]},next:function(){var n=this,e=this[u];if(null!==e)return Promise.reject(e);if(this[c])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise(function(e,t){o.nextTick(function(){n[u]?t(n[u]):e(p(void 0,!0))})});var t,r=this[f];if(r)t=new Promise(function(n,r){return function(e,t){n.then(function(){r[c]?e(p(void 0,!0)):r[l](e,t)},t)}}(r,this));else{var i=this[h].read();if(null!==i)return Promise.resolve(p(i,!1));t=new Promise(this[l])}return this[f]=t}},Symbol.asyncIterator,function(){return this}),n(e,"return",function(){var e=this;return new Promise(function(t,n){e[h].destroy(null,function(e){e?n(e):t(p(void 0,!0))})})}),e),t);g.exports=function(e){var t,r=Object.create(y,(n(t={},h,{value:e,writable:!0}),n(t,s,{value:null,writable:!0}),n(t,a,{value:null,writable:!0}),n(t,u,{value:null,writable:!0}),n(t,c,{value:e._readableState.endEmitted,writable:!0}),n(t,l,{value:function(e,t){var n=r[h].read();n?(r[f]=null,r[s]=null,r[a]=null,e(p(n,!1))):(r[s]=e,r[a]=t)},writable:!0}),t));return r[f]=null,i(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[f]=null,r[s]=null,r[a]=null,t(e)),void(r[u]=e)}var n=r[s];null!==n&&(r[f]=null,r[s]=null,n(p(void 0,!(r[a]=null)))),r[c]=!0}),e.on("readable",function(e){o.nextTick(d,e)}.bind(null,r)),r}}).call(this,r("_process"))},{"./end-of-stream":35,_process:15}],33:[function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=e("buffer").Buffer,r=e("util").inspect,o=r&&r.custom||"inspect";t.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var t=e.prototype;return t.push=function(e){var t={data:e,next:null};0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length},t.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},t.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},t.clear=function(){this.head=this.tail=null,this.length=0},t.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},t.concat=function(e){if(0===this.length)return a.alloc(0);for(var t,n,r,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=i,r=s,a.prototype.copy.call(t,n,r),s+=o.data.length,o=o.next;return i},t.consume=function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n},t.first=function(){return this.head.data},t._getString=function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0===(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t).data=i.slice(o);break}++n}return this.length-=n,r},t._getBuffer=function(e){var t=a.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n).data=i.slice(o);break}++r}return this.length-=r,t},t[o]=function(e,t){return r(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){i(t,e,n[e])})}return t}({},t,{depth:0,customInspect:!1}))},e}()},{buffer:5,util:3}],34:[function(e,t,n){(function(o){"use strict";function s(e,t){u(e,t),a(e)}function a(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function u(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||o.nextTick(u,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(o.nextTick(s,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t?(o.nextTick(a,n),t(e)):o.nextTick(a,n)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}}).call(this,e("_process"))},{_process:15}],35:[function(e,t,n){"use strict";var d=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function y(){}t.exports=function e(t,n,r){if("function"==typeof n)return e(t,null,n);n=n||{},r=function(r){var i=!1;return function(){if(!i){i=!0;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.apply(this,t)}}}(r||y);function i(){t.writable||h()}function o(){p=!(c=!1),f||r.call(t)}function s(e){r.call(t,e)}function a(){var e;return c&&!p?(t._readableState&&t._readableState.ended||(e=new d),r.call(t,e)):f&&!l?(t._writableState&&t._writableState.ended||(e=new d),r.call(t,e)):void 0}function u(){t.req.on("finish",h)}var c=n.readable||!1!==n.readable&&t.readable,f=n.writable||!1!==n.writable&&t.writable,l=t._writableState&&t._writableState.finished,h=function(){l=!(f=!1),c||r.call(t)},p=t._readableState&&t._readableState.endEmitted;return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",h),t.on("abort",a),t.req?u():t.on("request",u)):f&&!t._writableState&&(t.on("end",i),t.on("close",i)),t.on("end",o),t.on("finish",h),!1!==n.error&&t.on("error",s),t.on("close",a),function(){t.removeListener("complete",h),t.removeListener("abort",a),t.removeListener("request",u),t.req&&t.req.removeListener("finish",h),t.removeListener("end",i),t.removeListener("close",i),t.removeListener("finish",h),t.removeListener("end",o),t.removeListener("error",s),t.removeListener("close",a)}}},{"../../../errors":25}],36:[function(s,e,t){"use strict";var a;var n=s("../../../errors").codes,u=n.ERR_MISSING_ARGS,c=n.ERR_STREAM_DESTROYED;function f(e){if(e)throw e}function l(t,e,n,r){r=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(r);var i=!1;t.on("close",function(){i=!0}),void 0===a&&(a=s("./end-of-stream")),a(t,{readable:e,writable:n},function(e){if(e)return r(e);i=!0,r()});var o=!1;return function(e){if(!i&&!o)return o=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void r(e||new c("pipe"))}}function h(e){e()}function p(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var i,o=function(e){return e.length?"function"!=typeof e[e.length-1]?f:e.pop():f}(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new u("streams");var s=r.map(function(e,t){var n=t<r.length-1;return l(e,n,0<t,function(e){i=i||e,e&&s.forEach(h),n||(s.forEach(h),o(i))})});return r.reduce(p)}},{"../../../errors":25,"./end-of-stream":35}],37:[function(e,t,n){"use strict";var o=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,n,r){var i=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,r,n);if(null==i)return e.objectMode?16:16384;if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new o(r?n:"highWaterMark",i);return Math.floor(i)}}},{"../../../errors":25}],38:[function(e,t,n){t.exports=e("events").EventEmitter},{events:8}],39:[function(e,t,n){(((n=t.exports=e("./lib/_stream_readable.js")).Stream=n).Readable=n).Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":27,"./lib/_stream_passthrough.js":28,"./lib/_stream_readable.js":29,"./lib/_stream_transform.js":30,"./lib/_stream_writable.js":31,"./lib/internal/streams/end-of-stream.js":35,"./lib/internal/streams/pipeline.js":36}],40:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=o(e),this.encoding){case"utf16le":this.text=c,this.end=f,t=4;break;case"utf8":this.fillLast=u,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=p,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function u(e){var t=this.lastTotal-this.lastNeed,n=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(1<e.lastNeed&&1<t.length){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(2<e.lastNeed&&2<t.length&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1);var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(55296<=r&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}function f(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0==n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1==n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}(n.StringDecoder=s).prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},s.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);if(0<=i)return 0<i&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if(0<=(i=a(t[r])))return 0<i&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if(0<=(i=a(t[r])))return 0<i&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":20}],41:[function(e,t,n){t.exports=function(u,c){return c=c||{},new Promise(function(e,t){var n=new XMLHttpRequest,r=[],i=[],o={},s=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(JSON.parse(n.responseText))},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:s,headers:{keys:function(){return r},entries:function(){return i},get:function(e){return o[e.toLowerCase()]},has:function(e){return e.toLowerCase()in o}}}};for(var a in n.open(c.method||"get",u,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,t,n){r.push(t=t.toLowerCase()),i.push([t,n]),o[t]=o[t]?o[t]+","+n:n}),e(s())},n.onerror=t,n.withCredentials="include"==c.credentials,c.headers)n.setRequestHeader(a,c.headers[a]);n.send(c.body||null)})}},{}],42:[function(e,t,n){"use strict";var N=e("punycode"),k=e("./util");function A(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}n.parse=o,n.resolve=function(e,t){return o(e,!1,!0).resolve(t)},n.resolveObject=function(e,t){return e?o(e,!1,!0).resolveObject(t):t},n.format=function(e){k.isString(e)&&(e=o(e));return e instanceof A?e.format():A.prototype.format.call(e)},n.Url=A;var P=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,I=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,i=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),U=["'"].concat(i),B=["%","/","?",";","#"].concat(U),q=["/","?","#"],D=/^[+a-z0-9A-Z_-]{0,63}$/,F=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,H={javascript:!0,"javascript:":!0},W={javascript:!0,"javascript:":!0},z={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},G=e("querystring");function o(e,t,n){if(e&&k.isObject(e)&&e instanceof A)return e;var r=new A;return r.parse(e,t,n),r}A.prototype.parse=function(e,t,n){if(!k.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=-1!==r&&r<e.indexOf("#")?"?":"#",o=e.split(i);o[0]=o[0].replace(/\\/g,"/");var s=e=o.join(i);if(s=s.trim(),!n&&1===e.split("#").length){var a=I.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?G.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=P.exec(s);if(u){var c=(u=u[0]).toLowerCase();this.protocol=c,s=s.substr(u.length)}if(n||u||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var f="//"===s.substr(0,2);!f||u&&W[u]||(s=s.substr(2),this.slashes=!0)}if(!W[u]&&(f||u&&!z[u])){for(var l,h,p=-1,d=0;d<q.length;d++){-1!==(y=s.indexOf(q[d]))&&(-1===p||y<p)&&(p=y)}-1!==(h=-1===p?s.lastIndexOf("@"):s.lastIndexOf("@",p))&&(l=s.slice(0,h),s=s.slice(h+1),this.auth=decodeURIComponent(l)),p=-1;for(d=0;d<B.length;d++){var y;-1!==(y=s.indexOf(B[d]))&&(-1===p||y<p)&&(p=y)}-1===p&&(p=s.length),this.host=s.slice(0,p),s=s.slice(p),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var m=this.hostname.split(/\./),b=(d=0,m.length);d<b;d++){var w=m[d];if(w&&!w.match(D)){for(var v="",_=0,x=w.length;_<x;_++)127<w.charCodeAt(_)?v+="x":v+=w[_];if(!v.match(D)){var E=m.slice(0,d),S=m.slice(d+1),R=w.match(F);R&&(E.push(R[1]),S.unshift(R[2])),S.length&&(s="/"+S.join(".")+s),this.hostname=E.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=N.toASCII(this.hostname));var T=this.port?":"+this.port:"",A=this.hostname||"";this.host=A+T,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!H[c])for(d=0,b=U.length;d<b;d++){var O=U[d];if(-1!==s.indexOf(O)){var C=encodeURIComponent(O);C===O&&(C=escape(O)),s=s.split(O).join(C)}}var j=s.indexOf("#");-1!==j&&(this.hash=s.substr(j),s=s.slice(0,j));var L=s.indexOf("?");if(-1!==L?(this.search=s.substr(L),this.query=s.substr(L+1),t&&(this.query=G.parse(this.query)),s=s.slice(0,L)):t&&(this.search="",this.query={}),s&&(this.pathname=s),z[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){T=this.pathname||"";var M=this.search||"";this.path=T+M}return this.href=this.format(),this},A.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&k.isObject(this.query)&&Object.keys(this.query).length&&(o=G.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||z[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i=i||"",r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+r},A.prototype.resolve=function(e){return this.resolveObject(o(e,!1,!0)).format()},A.prototype.resolveObject=function(e){if(k.isString(e)){var t=new A;t.parse(e,!1,!0),e=t}for(var n=new A,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var u=s[a];"protocol"!==u&&(n[u]=e[u])}return z[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!z[e.protocol]){for(var c=Object.keys(e),f=0;f<c.length;f++){var l=c[f];n[l]=e[l]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||W[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var p=n.pathname||"",d=n.search||"";n.path=p+d}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),g=e.host||e.pathname&&"/"===e.pathname.charAt(0),m=g||y||n.host&&e.pathname,b=m,w=n.pathname&&n.pathname.split("/")||[],v=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!z[n.protocol]);if(v&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),m=m&&(""===h[0]||""===w[0])),g)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,w=h;else if(h.length)(w=w||[]).pop(),w=w.concat(h),n.search=e.search,n.query=e.query;else if(!k.isNullOrUndefined(e.search)){if(v)n.hostname=n.host=w.shift(),(R=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=R.shift(),n.host=n.hostname=R.shift());return n.search=e.search,n.query=e.query,k.isNull(n.pathname)&&k.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var _=w.slice(-1)[0],x=(n.host||e.host||1<w.length)&&("."===_||".."===_)||""===_,E=0,S=w.length;0<=S;S--)"."===(_=w[S])?w.splice(S,1):".."===_?(w.splice(S,1),E++):E&&(w.splice(S,1),E--);if(!m&&!b)for(;E--;)w.unshift("..");!m||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),x&&"/"!==w.join("/").substr(-1)&&w.push("");var R,T=""===w[0]||w[0]&&"/"===w[0].charAt(0);v&&(n.hostname=n.host=T?"":w.length?w.shift():"",(R=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=R.shift(),n.host=n.hostname=R.shift()));return(m=m||n.host&&w.length)&&!T&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),k.isNull(n.pathname)&&k.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},A.prototype.parseHost=function(){var e=this.host,t=r.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":43,punycode:16,querystring:19}],43:[function(e,t,n){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],44:[function(e,t,n){(function(n){function r(e){try{if(!n.localStorage)return!1}catch(e){return!1}var t=n.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}t.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],46:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],47:[function(T,e,A){(function(r,i){var a=/%[sdj%]/g;A.format=function(e){if(!w(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(u(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(e).replace(a,function(e){if("%%"===e)return"%";if(i<=n)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),s=r[n];n<i;s=r[++n])m(s)||!f(s)?o+=" "+s:o+=" "+u(s);return o},A.deprecate=function(e,t){if(v(i.process))return function(){return A.deprecate(e,t).apply(this,arguments)};if(!0===r.noDeprecation)return e;var n=!1;return function(){if(!n){if(r.throwDeprecation)throw new Error(t);r.traceDeprecation?console.trace(t):console.error(t),n=!0}return e.apply(this,arguments)}};var e,o={};function u(e,t){var n={seen:[],stylize:c};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),g(t)?n.showHidden=t:t&&A._extend(n,t),v(n.showHidden)&&(n.showHidden=!1),v(n.depth)&&(n.depth=2),v(n.colors)&&(n.colors=!1),v(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=s),h(n,e,n.depth)}function s(e,t){var n=u.styles[t];return n?"["+u.colors[n][0]+"m"+e+"["+u.colors[n][1]+"m":e}function c(e,t){return e}function h(t,n,r){if(t.customInspect&&n&&S(n.inspect)&&n.inspect!==A.inspect&&(!n.constructor||n.constructor.prototype!==n)){var e=n.inspect(r,t);return w(e)||(e=h(t,e,r)),e}var i=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(w(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(b(t))return e.stylize(""+t,"number");if(g(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(t,n);if(i)return i;var o=Object.keys(n),s=function(e){var n={};return e.forEach(function(e,t){n[e]=!0}),n}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(n)),E(n)&&(0<=o.indexOf("message")||0<=o.indexOf("description")))return p(n);if(0===o.length){if(S(n)){var a=n.name?": "+n.name:"";return t.stylize("[Function"+a+"]","special")}if(_(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return t.stylize(Date.prototype.toString.call(n),"date");if(E(n))return p(n)}var u,c="",f=!1,l=["{","}"];y(n)&&(f=!0,l=["[","]"]),S(n)&&(c=" [Function"+(n.name?": "+n.name:"")+"]");return _(n)&&(c=" "+RegExp.prototype.toString.call(n)),x(n)&&(c=" "+Date.prototype.toUTCString.call(n)),E(n)&&(c=" "+p(n)),0!==o.length||f&&0!=n.length?r<0?_(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=f?function(t,n,r,i,e){for(var o=[],s=0,a=n.length;s<a;++s)R(n,String(s))?o.push(d(t,n,r,i,String(s),!0)):o.push("");return e.forEach(function(e){e.match(/^\d+$/)||o.push(d(t,n,r,i,e,!0))}),o}(t,n,r,s,o):o.map(function(e){return d(t,n,r,s,e,f)}),t.seen.pop(),function(e,t,n){if(60<e.reduce(function(e,t){return 0,0<=t.indexOf("\n")&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0))return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,c,l)):l[0]+c+l[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),R(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?-1<(a=m(n)?h(e,u.value,null):h(e,u.value,n-1)).indexOf("\n")&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),v(s)){if(o&&i.match(/^\d+$/))return a;s=(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),e.stylize(s,"string"))}return s+": "+a}function y(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function m(e){return null===e}function b(e){return"number"==typeof e}function w(e){return"string"==typeof e}function v(e){return void 0===e}function _(e){return f(e)&&"[object RegExp]"===t(e)}function f(e){return"object"==typeof e&&null!==e}function x(e){return f(e)&&"[object Date]"===t(e)}function E(e){return f(e)&&("[object Error]"===t(e)||e instanceof Error)}function S(e){return"function"==typeof e}function t(e){return Object.prototype.toString.call(e)}function n(e){return e<10?"0"+e.toString(10):e.toString(10)}A.debuglog=function(t){if(v(e)&&(e=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(e)){var n=r.pid;o[t]=function(){var e=A.format.apply(A,arguments);console.error("%s %d: %s",t,n,e)}}else o[t]=function(){};return o[t]},(A.inspect=u).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},A.isArray=y,A.isBoolean=g,A.isNull=m,A.isNullOrUndefined=function(e){return null==e},A.isNumber=b,A.isString=w,A.isSymbol=function(e){return"symbol"==typeof e},A.isUndefined=v,A.isRegExp=_,A.isObject=f,A.isDate=x,A.isError=E,A.isFunction=S,A.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},A.isBuffer=T("./support/isBuffer");var l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}A.log=function(){console.log("%s - %s",function(){var e=new Date,t=[n(e.getHours()),n(e.getMinutes()),n(e.getSeconds())].join(":");return[e.getDate(),l[e.getMonth()],t].join(" ")}(),A.format.apply(A,arguments))},A.inherits=T("inherits"),A._extend=function(e,t){if(!t||!f(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,T("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":46,_process:15,inherits:45}],48:[function(e,t,n){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)i.call(n,r)&&(e[r]=n[r])}return e};var i=Object.prototype.hasOwnProperty},{}],49:[function(e,t,n){"use strict";var o=e("btoa-lite"),s=e("isomorphic-unfetch"),p=e("./errors"),r=e("./query"),i=e("./values"),d=e("./_json"),y=e("./RequestResult"),g=e("./_util"),a=e("./PageHelper"),u=(e("es6-promise").Promise,e("http")),c=e("https"),f=e("url").URL;function l(e){var t="undefined"==typeof window,n=g.applyDefaults(e,{domain:"db.fauna.com",scheme:"https",port:null,secret:null,timeout:60,observer:null,keepAlive:!0}),r="https"===n.scheme;null===n.port&&(n.port=r?443:80),this._baseUrl=n.scheme+"://"+n.domain+":"+n.port,this._timeout=Math.floor(1e3*n.timeout),this._secret=n.secret,this._observer=n.observer,this._lastSeen=null,t&&n.keepAlive&&(this._keepAliveEnabledAgent=new(r?c:u).Agent({keepAlive:!0}))}function m(e,t){return void 0===e?t:e}l.prototype.query=function(e){return this._execute("POST","",r.wrap(e))},l.prototype.paginate=function(e,t){return t=m(t,{}),new a(this,e,t)},l.prototype.ping=function(e,t){return this._execute("GET","ping",null,{scope:e,timeout:t})},l.prototype.getLastTxnTime=function(){return this._lastSeen},l.prototype.syncLastTxnTime=function(e){null==this._lastSeen?this._lastSeen=e:this._lastSeen<e&&(this._lastSeen=e)},l.prototype._execute=function(s,a,u,c){c=m(c,null),a instanceof i.Ref&&(a=a.value),null!==c&&(c=g.removeUndefinedValues(c));var f=Date.now(),l=this,h=0<=["GET","HEAD"].indexOf(s)?void 0:JSON.stringify(u);return this._performRequest(s,a,h,c).then(function(e){var t=Date.now(),n=e.text,r=d.parseJSON(n),i=new y(l,s,a,c,h,u,n,r,e.status,function(e){var t=e.headers,n={};"function"==typeof t.forEach?t.forEach(function(e,t){n[t]=e}):t.entries().forEach(function(e){n[e[0]]=e[1]});return n}(e),f,t),o="x-txn-time";return e.headers.has(o)&&l.syncLastTxnTime(parseInt(e.headers.get(o),10)),null!=l._observer&&l._observer(i),p.FaunaHTTPError.raiseForStatusCode(i),r.resource})},l.prototype._performRequest=function(e,t,n,r){var i=new f(this._baseUrl+"/"+t);return Object.keys(r||{}).forEach(function(e){return i.searchParams.append(e,r[e])}),s(i.toString(),{agent:this._keepAliveEnabledAgent,body:n,headers:g.removeNullAndUndefinedValues({Authorization:this._secret&&function(e){return"Basic "+o(e+":")}(this._secret),"X-FaunaDB-API-Version":"2.7","X-Fauna-Driver":"Javascript","X-Last-Seen-Txn":this._lastSeen}),method:e,timeout:this._timeout}).then(function(t){return t.text().then(function(e){return t.text=e,t})})},t.exports=l},{"./PageHelper":51,"./RequestResult":52,"./_json":53,"./_util":54,"./errors":56,"./query":57,"./values":58,"btoa-lite":4,"es6-promise":7,http:21,https:10,"isomorphic-unfetch":13,url:42}],50:[function(e,t,n){"use strict";function c(e){this.raw=e}c.prototype.toJSON=function(){return this.raw};var f=["Do","Call","Union","Intersection","Difference","Equals","Add","BitAnd","BitOr","BitXor","Divide","Max","Min","Modulo","Multiply","Subtract","LT","LTE","GT","GTE","And","Or"],l={is_nonempty:"is_non_empty",lt:"LT",lte:"LTE",gt:"GT",gte:"GTE"},h=function(n,e){if(n instanceof c){if("value"in n)return n.toString();n=n.raw}var t=typeof n;if("string"==t)return'"'+n+'"';if("symbol"==t||"number"==t||"boolean"==t)return n.toString();if("undefined"==t)return"undefined";if(null===n)return"null";function r(t){return"{"+Object.keys(t).map(function(e){return e+": "+h(t[e])}).join(", ")+"}"}function i(e,t){return e.map(function(e){return t(e)}).join(", ")}if(Array.isArray(n)){var o=i(n,h);return-1!=f.indexOf(e)?o:"["+o+"]"}if("let"in n&&"in"in n){return"Let("+(Array.isArray(n.let)?"["+i(n.let,r)+"]":r(n.let))+", "+h(n.in)+")"}if("object"in n)return r(n.object);var s=Object.keys(n),a=s[0];a in l&&(a=l[a]),a=a.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join("");var u=s.map(function(e){var t=n[e];return h(t,a)});return["filter","map","foreach"].some(function(e){return e in n})&&u.reverse(),u=u.join(", "),a+"("+u+")"};c.toString=h,t.exports=c},{}],51:[function(e,t,n){"use strict";var o=e("./query"),s=e("object-assign"),a=e("es6-promise").Promise;function r(e,t,n){void 0===n&&(n={}),this.reverse=!1,this.params={},this.before=void 0,this.after=void 0,s(this.params,n);var r=this.params.cursor||this.params;"before"in r?(this.before=r.before,delete r.before):"after"in r&&(this.after=r.after,delete r.after),this.client=e,this.set=t,this._faunaFunctions=[]}r.prototype.map=function(t){var e=this._clone();return e._faunaFunctions.push(function(e){return o.Map(e,t)}),e},r.prototype.filter=function(t){var e=this._clone();return e._faunaFunctions.push(function(e){return o.Filter(e,t)}),e},r.prototype.each=function(e){return this._retrieveNextPage(this.after,!1).then(this._consumePages(e,!1))},r.prototype.eachReverse=function(e){return this._retrieveNextPage(this.before,!0).then(this._consumePages(e,!0))},r.prototype.previousPage=function(){return this._retrieveNextPage(this.before,!0).then(this._adjustCursors.bind(this))},r.prototype.nextPage=function(){return this._retrieveNextPage(this.after,!1).then(this._adjustCursors.bind(this))},r.prototype._adjustCursors=function(e){return void 0!==e.after&&(this.after=e.after),void 0!==e.before&&(this.before=e.before),e.data},r.prototype._consumePages=function(r,i){var o=this;return function(e){var t,n=[];return e.data.forEach(function(e){e.document&&(e.instance=e.document),e.value&&e.value.document&&(e.value.instance=e.value.document),n.push(e)}),r(n),void 0!==(t=i?e.before:e.after)?o._retrieveNextPage(t,i).then(o._consumePages(r,i)):a.resolve()}},r.prototype._retrieveNextPage=function(e,t){var n={};s(n,this.params);var r=n.cursor||n;void 0!==e?t?r.before=e:r.after=e:t&&(r.before=null);var i=o.Paginate(this.set,n);return 0<this._faunaFunctions.length&&this._faunaFunctions.forEach(function(e){i=e(i)}),this.client.query(i)},r.prototype._clone=function(){return Object.create(r.prototype,{client:{value:this.client},set:{value:this.set},_faunaFunctions:{value:this._faunaFunctions},before:{value:this.before},after:{value:this.after}})},t.exports=r},{"./query":57,"es6-promise":7,"object-assign":14}],52:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a,u,c,f,l){this.client=e,this.method=t,this.path=n,this.query=r,this.requestRaw=i,this.requestContent=o,this.responseRaw=s,this.responseContent=a,this.statusCode=u,this.responseHeaders=c,this.startTime=f,this.endTime=l}Object.defineProperty(r.prototype,"auth",{get:function(){return this.client._secret}}),Object.defineProperty(r.prototype,"timeTaken",{get:function(){return this.endTime-this.startTime}}),t.exports=r},{}],53:[function(e,t,n){"use strict";var o=e("./values");function s(e,t){if("object"!=typeof t||null===t)return t;if("@ref"in t){var n=t["@ref"];if(!("collection"in n||"database"in n))return o.Native.fromName(n.id);var r=s("collection",n.collection),i=s("database",n.database);return new o.Ref(n.id,r,i)}return"@obj"in t?t["@obj"]:"@set"in t?new o.SetRef(t["@set"]):"@ts"in t?new o.FaunaTime(t["@ts"]):"@date"in t?new o.FaunaDate(t["@date"]):"@bytes"in t?new o.Bytes(t["@bytes"]):"@query"in t?new o.Query(t["@query"]):t}t.exports={toJSON:function(e,t){return(t=void 0!==t&&t)?JSON.stringify(e,null,"  "):JSON.stringify(e)},parseJSON:function(e){return JSON.parse(e,s)}}},{"./values":58}],54:[function(e,t,n){"use strict";t.exports={applyDefaults:function(e,t){var n={};for(var r in e){if(!(r in t))throw new Error("No such option "+r);n[r]=e[r]}for(var i in t)i in n||(n[i]=t[i]);return n},removeNullAndUndefinedValues:function(e){var t={};for(var n in e){var r=e[n];null!=r&&(t[n]=r)}return t},removeUndefinedValues:function(e){var t={};for(var n in e){var r=e[n];void 0!==r&&(t[n]=r)}return t}}},{}],55:[function(e,t,n){"use strict";var r=e("./_json");function i(e){var t=e.query,n=e.method,r=e.path,i=e.requestContent,o=e.responseHeaders,s=e.responseContent,a=e.statusCode,u=e.timeTaken,c="";function f(e){c+=e}return f("Fauna "+n+" /"+r+function(t){if(null==t)return"";var e=Object.keys(t);return 0!==e.length?"?"+e.map(function(e){return e+"="+t[e]}).join("&"):""}(t)+"\n"),null!=i&&f("  Request JSON: "+l(i)+"\n"),f("  Response headers: "+l(o)+"\n"),f("  Response JSON: "+l(s)+"\n"),f("  Response ("+a+"): Network latency "+u+"ms\n"),c}function l(e){return function(e){return e.split("\n").join("\n  ")}(r.toJSON(e,!0))}t.exports={logger:function(t){return function(e){return t(i(e))}},showRequestResult:i}},{"./_json":53}],56:[function(e,t,n){"use strict";var r=e("util");function o(e,t){Error.call(this),this.name=e,this.message=t}function i(e){o.call(this,"InvalidValue",e)}function s(e,t,n){var r,i;o.call(this,"InvalidArity","Function requires "+(r=e,null===(i=t)?"at least "+r:null===r?"up to "+i:r===i?r:"from "+r+" to "+i)+" arguments but "+n+" were given."),this.min=e,this.max=t,this.actual=n}function a(e,t){var n=t.responseContent.errors,r=0===n.length?'(empty "errors")':n[0].code;o.call(this,e,r),this.requestResult=t}function u(e){a.call(this,"BadRequest",e)}function c(e){a.call(this,"Unauthorized",e)}function f(e){a.call(this,"PermissionDenied",e)}function l(e){a.call(this,"NotFound",e)}function h(e){a.call(this,"MethodNotAllowed",e)}function p(e){a.call(this,"InternalError",e)}function d(e){a.call(this,"UnavailableError",e)}r.inherits(o,Error),r.inherits(i,o),r.inherits(s,o),r.inherits(a,o),a.prototype.errors=function(){return this.requestResult.responseContent.errors},a.raiseForStatusCode=function(e){var t=e.statusCode;if(t<200||300<=t)switch(t){case 400:throw new u(e);case 401:throw new c(e);case 403:throw new f(e);case 404:throw new l(e);case 405:throw new h(e);case 500:throw new p(e);case 503:throw new d(e);default:throw new a("UnknownError",e)}},r.inherits(u,a),r.inherits(c,a),r.inherits(f,a),r.inherits(l,a),r.inherits(h,a),r.inherits(p,a),r.inherits(d,a),t.exports={FaunaHTTPError:a,InvalidValue:i,InvalidArity:s,BadRequest:u,Unauthorized:c,PermissionDenied:f,NotFound:l,MethodNotAllowed:h,InternalError:p,UnavailableError:d}},{util:47}],57:[function(e,t,n){"use strict";var r=e("fn-annotate"),i=e("util-deprecate"),o=e("./Expr"),s=e("./errors"),a=e("./values"),u=e("object-assign");function c(e){return h.exact(1,arguments),new o({var:m(e)})}function f(){switch(h.between(1,2,arguments),arguments.length){case 1:var e=arguments[0];if("function"==typeof e)return function(e){var t=r(e);switch(t.length){case 0:throw new s.InvalidValue("Provided Function must take at least 1 argument.");case 1:return l(t[0],e(c(t[0])));default:return l(t,e.apply(null,t.map(function(e){return c(e)})))}}(e);if(e instanceof o)return e;throw new s.InvalidValue("Lambda function takes either a Function or an Expr.");case 2:return l(arguments[0],arguments[1])}}function l(e,t){return new o({lambda:m(e),expr:m(t)})}function h(e,t,n){if(null!==e&&n.length<e||null!==t&&n.length>t)throw new s.InvalidArity(e,t,n.length)}function p(e,t){for(var n in t){var r=t[n];null!==r&&(e[n]=r)}return e}function d(e){var t=Array.isArray(e)?e:Array.prototype.slice.call(e);return 1===e.length?e[0]:t}function y(e){var t=[];return t.push.apply(t,e),t}function g(e,t){return void 0===e?t:e}function m(e){return h.exact(1,arguments),null===e?null:e instanceof o?e:"symbol"==typeof e?e.toString().replace(/Symbol\((.*)\)/,function(e,t){return t}):"function"==typeof e?f(e):Array.isArray(e)?new o(e.map(function(e){return m(e)})):e instanceof Uint8Array||e instanceof ArrayBuffer?new a.Bytes(e):"object"==typeof e?new o({object:b(e)}):e}function b(t){if(null===t)return null;var n={};return Object.keys(t).forEach(function(e){n[e]=m(t[e])}),n}h.exact=function(e,t){h(e,e,t)},h.max=function(e,t){h(null,e,t)},h.min=function(e,t){h(e,null,t)},h.between=function(e,t,n){h(e,t,n)},t.exports={Ref:function(){switch(h.between(1,2,arguments),arguments.length){case 1:return new o({"@ref":m(arguments[0])});case 2:return new o({ref:m(arguments[0]),id:m(arguments[1])})}},Bytes:function(e){return h.exact(1,arguments),new a.Bytes(e)},Abort:function(e){return h.exact(1,arguments),new o({abort:m(e)})},At:function(e,t){return h.exact(2,arguments),new o({at:m(e),expr:m(t)})},Let:function(n,e){h.exact(2,arguments);var t=[];if(t=Array.isArray(n)?n.map(function(e){return b(e)}):Object.keys(n).map(function(e){var t={};return t[e]=m(n[e]),t}),"function"==typeof e)if(Array.isArray(n)){var r=[];n.forEach(function(e){Object.keys(e).forEach(function(e){r.push(c(e))})}),e=e.apply(null,r)}else e=e.apply(null,Object.keys(n).map(function(e){return c(e)}));return new o({let:t,in:m(e)})},Var:c,If:function(e,t,n){return h.exact(3,arguments),new o({if:m(e),then:m(t),else:m(n)})},Do:function(){h.min(1,arguments);var e=y(arguments);return new o({do:m(e)})},Object:function(e){return h.exact(1,arguments),new o({object:b(e)})},Lambda:f,Call:function(e){h.min(1,arguments);var t=y(arguments);return t.shift(),new o({call:m(e),arguments:m(d(t))})},Query:function(e){return h.exact(1,arguments),new o({query:m(e)})},Map:function(e,t){return h.exact(2,arguments),new o({map:m(t),collection:m(e)})},Foreach:function(e,t){return h.exact(2,arguments),new o({foreach:m(t),collection:m(e)})},Filter:function(e,t){return h.exact(2,arguments),new o({filter:m(t),collection:m(e)})},Take:function(e,t){return h.exact(2,arguments),new o({take:m(e),collection:m(t)})},Drop:function(e,t){return h.exact(2,arguments),new o({drop:m(e),collection:m(t)})},Prepend:function(e,t){return h.exact(2,arguments),new o({prepend:m(e),collection:m(t)})},Append:function(e,t){return h.exact(2,arguments),new o({append:m(e),collection:m(t)})},IsEmpty:function(e){return h.exact(1,arguments),new o({is_empty:m(e)})},IsNonEmpty:function(e){return h.exact(1,arguments),new o({is_nonempty:m(e)})},Get:function(e,t){return h.between(1,2,arguments),t=g(t,null),new o(p({get:m(e)},{ts:m(t)}))},KeyFromSecret:function(e){return h.exact(1,arguments),new o({key_from_secret:m(e)})},Reduce:function(e,t,n){return h.exact(3,arguments),new o({reduce:m(e),initial:m(t),collection:m(n)})},Paginate:function(e,t){return h.between(1,2,arguments),t=g(t,{}),new o(u({paginate:m(e)},b(t)))},Exists:function(e,t){return h.between(1,2,arguments),t=g(t,null),new o(p({exists:m(e)},{ts:m(t)}))},Create:function(e,t){return h.between(1,2,arguments),new o({create:m(e),params:m(t)})},Update:function(e,t){return h.exact(2,arguments),new o({update:m(e),params:m(t)})},Replace:function(e,t){return h.exact(2,arguments),new o({replace:m(e),params:m(t)})},Delete:function(e){return h.exact(1,arguments),new o({delete:m(e)})},Insert:function(e,t,n,r){return h.exact(4,arguments),new o({insert:m(e),ts:m(t),action:m(n),params:m(r)})},Remove:function(e,t,n){return h.exact(3,arguments),new o({remove:m(e),ts:m(t),action:m(n)})},CreateClass:i(function(e){return h.exact(1,arguments),new o({create_class:m(e)})},"CreateClass() is deprecated, use CreateCOllection() instead"),CreateCollection:function(e){return h.exact(1,arguments),new o({create_collection:m(e)})},CreateDatabase:function(e){return h.exact(1,arguments),new o({create_database:m(e)})},CreateIndex:function(e){return h.exact(1,arguments),new o({create_index:m(e)})},CreateKey:function(e){return h.exact(1,arguments),new o({create_key:m(e)})},CreateFunction:function(e){return h.exact(1,arguments),new o({create_function:m(e)})},CreateRole:function(e){return h.exact(1,arguments),new o({create_role:m(e)})},Singleton:function(e){return h.exact(1,arguments),new o({singleton:m(e)})},Events:function(e){return h.exact(1,arguments),new o({events:m(e)})},Match:function(e){h.min(1,arguments);var t=y(arguments);return t.shift(),new o({match:m(e),terms:m(d(t))})},Union:function(){return h.min(1,arguments),new o({union:m(d(arguments))})},Merge:function(e,t,n){return h.between(2,3,arguments),new o(p({merge:m(e),with:m(t)},{lambda:m(n)}))},Intersection:function(){return h.min(1,arguments),new o({intersection:m(d(arguments))})},Difference:function(){return h.min(1,arguments),new o({difference:m(d(arguments))})},Distinct:function(e){return h.exact(1,arguments),new o({distinct:m(e)})},Join:function(e,t){return h.exact(2,arguments),new o({join:m(e),with:m(t)})},Range:function(e,t,n){return h.exact(3,arguments),new o({range:m(e),from:m(t),to:m(n)})},Login:function(e,t){return h.exact(2,arguments),new o({login:m(e),params:m(t)})},Logout:function(e){return h.exact(1,arguments),new o({logout:m(e)})},Identify:function(e,t){return h.exact(2,arguments),new o({identify:m(e),password:m(t)})},Identity:function(){return h.exact(0,arguments),new o({identity:null})},HasIdentity:function(){return h.exact(0,arguments),new o({has_identity:null})},Concat:function(e,t){return h.min(1,arguments),t=g(t,null),new o(p({concat:m(e)},{separator:m(t)}))},Casefold:function(e,t){return h.min(1,arguments),new o(p({casefold:m(e)},{normalizer:m(t)}))},ContainsStr:function(e,t){return h.exact(2,arguments),new o({containsstr:m(e),search:m(t)})},ContainsStrRegex:function(e,t){return h.exact(2,arguments),new o({containsstrregex:m(e),pattern:m(t)})},StartsWith:function(e,t){return h.exact(2,arguments),new o({startswith:m(e),search:m(t)})},EndsWith:function(e,t){return h.exact(2,arguments),new o({endswith:m(e),search:m(t)})},FindStr:function(e,t,n){return h.between(2,3,arguments),n=g(n,null),new o(p({findstr:m(e),find:m(t)},{start:m(n)}))},FindStrRegex:function(e,t,n,r){return h.between(2,4,arguments),n=g(n,null),new o(p({findstrregex:m(e),pattern:m(t)},{start:m(n),num_results:m(r)}))},Length:function(e){return h.exact(1,arguments),new o({length:m(e)})},LowerCase:function(e){return h.exact(1,arguments),new o({lowercase:m(e)})},LTrim:function(e){return h.exact(1,arguments),new o({ltrim:m(e)})},NGram:function(e,t,n){return h.between(1,3,arguments),t=g(t,null),n=g(n,null),new o(p({ngram:m(e)},{min:m(t),max:m(n)}))},Repeat:function(e,t){return h.between(1,2,arguments),t=g(t,null),new o(p({repeat:m(e)},{number:m(t)}))},ReplaceStr:function(e,t,n){return h.exact(3,arguments),new o({replacestr:m(e),find:m(t),replace:m(n)})},ReplaceStrRegex:function(e,t,n,r){return h.between(3,4,arguments),r=g(r,null),new o(p({replacestrregex:m(e),pattern:m(t),replace:m(n)},{first:m(r)}))},RegexEscape:function(e){return h.exact(1,arguments),new o({regexescape:m(e)})},RTrim:function(e){return h.exact(1,arguments),new o({rtrim:m(e)})},Space:function(e){return h.exact(1,arguments),new o({space:m(e)})},SubString:function(e,t,n){return h.between(1,3,arguments),t=g(t,null),n=g(n,null),new o(p({substring:m(e)},{start:m(t),length:m(n)}))},TitleCase:function(e){return h.exact(1,arguments),new o({titlecase:m(e)})},Trim:function(e){return h.exact(1,arguments),new o({trim:m(e)})},UpperCase:function(e){return h.exact(1,arguments),new o({uppercase:m(e)})},Format:function(e){h.min(1,arguments);var t=y(arguments);return t.shift(),new o({format:m(e),values:m(d(t))})},Time:function(e){return h.exact(1,arguments),new o({time:m(e)})},Epoch:function(e,t){return h.exact(2,arguments),new o({epoch:m(e),unit:m(t)})},Date:function(e){return h.exact(1,arguments),new o({date:m(e)})},Now:function(){return h.exact(0,arguments),new o({now:m(null)})},NextId:i(function(){return h.exact(0,arguments),new o({next_id:null})},"NextId() is deprecated, use NewId() instead"),NewId:function(){return h.exact(0,arguments),new o({new_id:null})},Database:function(e,t){switch(h.between(1,2,arguments),arguments.length){case 1:return new o({database:m(e)});case 2:return new o({database:m(e),scope:m(t)})}},Index:function(e,t){switch(h.between(1,2,arguments),arguments.length){case 1:return new o({index:m(e)});case 2:return new o({index:m(e),scope:m(t)})}},Class:i(function(e,t){switch(h.between(1,2,arguments),arguments.length){case 1:return new o({class:m(e)});case 2:return new o({class:m(e),scope:m(t)})}},"Class() is deprecated, use Collection() instead"),Collection:function(e,t){switch(h.between(1,2,arguments),arguments.length){case 1:return new o({collection:m(e)});case 2:return new o({collection:m(e),scope:m(t)})}},Function:function(e,t){switch(h.between(1,2,arguments),arguments.length){case 1:return new o({function:m(e)});case 2:return new o({function:m(e),scope:m(t)})}},Role:function(e,t){return h.between(1,2,arguments),t=g(t,null),new o(p({role:m(e)},{scope:m(t)}))},Classes:i(function(e){return h.max(1,arguments),e=g(e,null),new o({classes:m(e)})},"Classes() is deprecated, use Collections() instead"),Collections:function(e){return h.max(1,arguments),e=g(e,null),new o({collections:m(e)})},Databases:function(e){return h.max(1,arguments),e=g(e,null),new o({databases:m(e)})},Indexes:function(e){return h.max(1,arguments),e=g(e,null),new o({indexes:m(e)})},Functions:function(e){return h.max(1,arguments),e=g(e,null),new o({functions:m(e)})},Roles:function(e){return h.max(1,arguments),e=g(e,null),new o({roles:m(e)})},Keys:function(e){return h.max(1,arguments),e=g(e,null),new o({keys:m(e)})},Tokens:function(e){return h.max(1,arguments),e=g(e,null),new o({tokens:m(e)})},Credentials:function(e){return h.max(1,arguments),e=g(e,null),new o({credentials:m(e)})},Equals:function(){return h.min(1,arguments),new o({equals:m(d(arguments))})},Contains:function(e,t){return h.exact(2,arguments),new o({contains:m(e),in:m(t)})},Select:function(e,t,n){h.between(2,3,arguments);var r={select:m(e),from:m(t)};return void 0!==n&&(r.default=m(n)),new o(r)},SelectAll:function(e,t){return h.exact(2,arguments),new o({select_all:m(e),from:m(t)})},Abs:function(e){return h.exact(1,arguments),new o({abs:m(e)})},Add:function(){return h.min(1,arguments),new o({add:m(d(arguments))})},BitAnd:function(){return h.min(1,arguments),new o({bitand:m(d(arguments))})},BitNot:function(e){return h.exact(1,arguments),new o({bitnot:m(e)})},BitOr:function(){return h.min(1,arguments),new o({bitor:m(d(arguments))})},BitXor:function(){return h.min(1,arguments),new o({bitxor:m(d(arguments))})},Ceil:function(e){return h.exact(1,arguments),new o({ceil:m(e)})},Divide:function(){return h.min(1,arguments),new o({divide:m(d(arguments))})},Floor:function(e){return h.exact(1,arguments),new o({floor:m(e)})},Max:function(){return h.min(1,arguments),new o({max:m(d(arguments))})},Min:function(){return h.min(1,arguments),new o({min:m(d(arguments))})},Modulo:function(){return h.min(1,arguments),new o({modulo:m(d(arguments))})},Multiply:function(){return h.min(1,arguments),new o({multiply:m(d(arguments))})},Round:function(e,t){return h.min(1,arguments),t=g(t,null),new o(p({round:m(e)},{precision:m(t)}))},Subtract:function(){return h.min(1,arguments),new o({subtract:m(d(arguments))})},Sign:function(e){return h.exact(1,arguments),new o({sign:m(e)})},Sqrt:function(e){return h.exact(1,arguments),new o({sqrt:m(e)})},Trunc:function(e,t){return h.min(1,arguments),t=g(t,null),new o(p({trunc:m(e)},{precision:m(t)}))},Count:function(e){return h.exact(1,arguments),new o({count:m(e)})},Sum:function(e){return h.exact(1,arguments),new o({sum:m(e)})},Mean:function(e){return h.exact(1,arguments),new o({mean:m(e)})},Acos:function(e){return h.exact(1,arguments),new o({acos:m(e)})},Asin:function(e){return h.exact(1,arguments),new o({asin:m(e)})},Atan:function(e){return h.exact(1,arguments),new o({atan:m(e)})},Cos:function(e){return h.exact(1,arguments),new o({cos:m(e)})},Cosh:function(e){return h.exact(1,arguments),new o({cosh:m(e)})},Degrees:function(e){return h.exact(1,arguments),new o({degrees:m(e)})},Exp:function(e){return h.exact(1,arguments),new o({exp:m(e)})},Hypot:function(e,t){return h.min(1,arguments),t=g(t,null),new o(p({hypot:m(e)},{b:m(t)}))},Ln:function(e){return h.exact(1,arguments),new o({ln:m(e)})},Log:function(e){return h.exact(1,arguments),new o({log:m(e)})},Pow:function(e,t){return h.min(1,arguments),t=g(t,null),new o(p({pow:m(e)},{exp:m(t)}))},Radians:function(e){return h.exact(1,arguments),new o({radians:m(e)})},Sin:function(e){return h.exact(1,arguments),new o({sin:m(e)})},Sinh:function(e){return h.exact(1,arguments),new o({sinh:m(e)})},Tan:function(e){return h.exact(1,arguments),new o({tan:m(e)})},Tanh:function(e){return h.exact(1,arguments),new o({tanh:m(e)})},LT:function(){return h.min(1,arguments),new o({lt:m(d(arguments))})},LTE:function(){return h.min(1,arguments),new o({lte:m(d(arguments))})},GT:function(){return h.min(1,arguments),new o({gt:m(d(arguments))})},GTE:function(){return h.min(1,arguments),new o({gte:m(d(arguments))})},And:function(){return h.min(1,arguments),new o({and:m(d(arguments))})},Or:function(){return h.min(1,arguments),new o({or:m(d(arguments))})},Not:function(e){return h.exact(1,arguments),new o({not:m(e)})},ToString:function(e){return h.exact(1,arguments),new o({to_string:m(e)})},ToNumber:function(e){return h.exact(1,arguments),new o({to_number:m(e)})},ToTime:function(e){return h.exact(1,arguments),new o({to_time:m(e)})},ToSeconds:function(e){return h.exact(1,arguments),new o({to_seconds:m(e)})},ToMicros:function(e){return h.exact(1,arguments),new o({to_micros:m(e)})},ToMillis:function(e){return h.exact(1,arguments),new o({to_millis:m(e)})},DayOfMonth:function(e){return h.exact(1,arguments),new o({day_of_month:m(e)})},DayOfWeek:function(e){return h.exact(1,arguments),new o({day_of_week:m(e)})},DayOfYear:function(e){return h.exact(1,arguments),new o({day_of_year:m(e)})},Second:function(e){return h.exact(1,arguments),new o({second:m(e)})},Minute:function(e){return h.exact(1,arguments),new o({minute:m(e)})},Hour:function(e){return h.exact(1,arguments),new o({hour:m(e)})},Month:function(e){return h.exact(1,arguments),new o({month:m(e)})},Year:function(e){return h.exact(1,arguments),new o({year:m(e)})},ToDate:function(e){return h.exact(1,arguments),new o({to_date:m(e)})},MoveDatabase:function(e,t){return h.exact(2,arguments),new o({move_database:m(e),to:m(t)})},wrap:m}},{"./Expr":50,"./errors":56,"./values":58,"fn-annotate":9,"object-assign":14,"util-deprecate":44}],58:[function(e,t,n){"use strict";var r=e("base64-js"),i=e("util-deprecate"),o=e("./errors"),s=e("./Expr"),a=e("util"),u=a&&a.inspect&&a.inspect.custom,c=a&&a.inspect||JSON.stringify;function f(){}function l(e,t,n){if(!e)throw new o.InvalidValue("id cannot be null or undefined");this.value={id:e},t&&(this.value.collection=t),n&&(this.value.database=n)}a.inherits(f,s),a.inherits(l,f),Object.defineProperty(l.prototype,"collection",{get:function(){return this.value.collection}}),Object.defineProperty(l.prototype,"class",{get:i(function(){return this.value.collection},"class is deprecated, use collection instead")}),Object.defineProperty(l.prototype,"database",{get:function(){return this.value.database}}),Object.defineProperty(l.prototype,"id",{get:function(){return this.value.id}}),l.prototype.toJSON=function(){return{"@ref":this.value}},b(l,function(){var i={collections:"Collection",databases:"Database",indexes:"Index",functions:"Function",roles:"Role"},o=function(e,t){if(void 0===e.collection&&void 0===e.database)return e.id.charAt(0).toUpperCase()+e.id.slice(1)+"("+t+")";var n=i[e.collection.id];if(void 0!==n){var r=void 0!==e.database?", "+e.database.toString():"";return n+'("'+e.id+'"'+r+")"}r=void 0!==e.database?e.database.toString():"";return"Ref("+o(e.collection,r)+', "'+e.id+'")'};return o(this,"")}),l.prototype.valueOf=function(){return this.value},l.prototype.equals=function(e){return e instanceof l&&this.id===e.id&&(void 0===this.collection&&void 0===e.collection||this.collection.equals(e.collection))&&(void 0===this.database&&void 0===e.database||this.database.equals(e.database))};var h={COLLECTIONS:new l("collections"),INDEXES:new l("indexes"),DATABASES:new l("databases"),FUNCTIONS:new l("functions"),ROLES:new l("roles"),KEYS:new l("keys")};function p(e){this.value=e}function d(e){if(e instanceof Date)e=e.toISOString();else if("Z"!==e.charAt(e.length-1))throw new o.InvalidValue("Only allowed timezone is 'Z', got: "+e);this.value=e}function y(e){e instanceof Date&&(e=e.toISOString().slice(0,10)),this.value=e}function g(e){if(e instanceof ArrayBuffer)this.value=new Uint8Array(e);else if("string"==typeof e)this.value=r.toByteArray(e);else{if(!(e instanceof Uint8Array))throw new o.InvalidValue("Bytes type expect argument to be either Uint8Array|ArrayBuffer|string, got: "+c(e));this.value=e}}function m(e){this.value=e}function b(e,t){e.prototype.toString=t,e.prototype.inspect=t,u&&(e.prototype[u]=t)}h.fromName=function(e){switch(e){case"collections":return h.COLLECTIONS;case"indexes":return h.INDEXES;case"databases":return h.DATABASES;case"functions":return h.FUNCTIONS;case"roles":return h.ROLES;case"keys":return h.KEYS}return new l(e)},a.inherits(p,f),b(p,function(){return s.toString(this.value)}),p.prototype.toJSON=function(){return{"@set":this.value}},a.inherits(d,f),Object.defineProperty(d.prototype,"date",{get:function(){return new Date(this.value)}}),b(d,function(){return'Time("'+this.value+'")'}),d.prototype.toJSON=function(){return{"@ts":this.value}},a.inherits(y,f),Object.defineProperty(y.prototype,"date",{get:function(){return new Date(this.value)}}),b(y,function(){return'Date("'+this.value+'")'}),y.prototype.toJSON=function(){return{"@date":this.value}},a.inherits(g,f),b(g,function(){return'Bytes("'+r.fromByteArray(this.value)+'")'}),g.prototype.toJSON=function(){return{"@bytes":r.fromByteArray(this.value)}},a.inherits(m,f),b(m,function(){return"Query("+s.toString(this.value)+")"}),m.prototype.toJSON=function(){return{"@query":this.value}},t.exports={Value:f,Ref:l,Native:h,SetRef:p,FaunaTime:d,FaunaDate:y,Bytes:g,Query:m}},{"./Expr":50,"./errors":56,"base64-js":2,util:47,"util-deprecate":44}]},{},[1])(1)});